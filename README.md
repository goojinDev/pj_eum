# ì´ìŒ(Eum) - ì²­ì†Œë…„ ì •ì±… AI ìƒë‹´ ì„œë¹„ìŠ¤ ğŸŒ±

> ì²­ì†Œë…„ë“¤ì´ í•„ìš”í•œ ì •ì±… ì •ë³´ë¥¼ AI ìƒë‹´ì„ í†µí•´ ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ì„œë¹„ìŠ¤

[![Java](https://img.shields.io/badge/Java-17-red.svg)](https://www.oracle.com/java/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.7-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue.svg)](https://www.postgresql.org/)
[![Swagger](https://img.shields.io/badge/Swagger-API%20Docs-85EA2D.svg)](http://localhost:8080/swagger-ui.html)

---

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
- [ê°œë°œ í™˜ê²½ ì„¤ì •](#-ê°œë°œ-í™˜ê²½-ì„¤ì •)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì»¨ë²¤ì…˜](#-ì»¨ë²¤ì…˜)
- [ê¸°ì—¬í•˜ê¸°](#-ê¸°ì—¬í•˜ê¸°)
- [ë¼ì´ì„¼ìŠ¤](#-ë¼ì´ì„¼ìŠ¤)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ì†Œê°œ

**ì´ìŒ(Eum)**ì€ ì²­ì†Œë…„ë“¤ì´ ë³µì¡í•œ ì •ì±… ì •ë³´ë¥¼ ì‰½ê²Œ ì´í•´í•˜ê³  ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ AI ê¸°ë°˜ ìƒë‹´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- ğŸ¤– **AI ê¸°ë°˜ ìƒë‹´**: Azure OpenAIë¥¼ í™œìš©í•œ ë§ì¶¤í˜• ì •ì±… ìƒë‹´
- ğŸ“Š **ê°ì • ë¶„ì„**: ì‚¬ìš©ìì˜ ê°ì • ìƒíƒœë¥¼ íŒŒì•…í•˜ì—¬ ì ì ˆí•œ ì‘ë‹µ ì œê³µ
- ğŸ” **RAG ê¸°ë°˜ ê²€ìƒ‰**: ë²¡í„° DBë¥¼ í™œìš©í•œ ì •í™•í•œ ì •ì±… ì •ë³´ ì œê³µ
- ğŸ‘¥ **ê´€ë¦¬ì ëª¨ë‹ˆí„°ë§**: ìœ„í—˜êµ° ì‚¬ìš©ì ì¡°ê¸° ë°œê²¬ ë° ëŒ€ì‘
- ğŸ“± **ë©€í‹° í”Œë«í¼**: ì›¹, ëª¨ë°”ì¼ ì•± ì§€ì› (ì¶”í›„ êµ¬í˜„)

### ê°œë°œ ê¸°ê°„

- **2024.11 - í˜„ì¬ ì§„í–‰ ì¤‘**

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Framework**: Spring Boot 3.5.7
- **Language**: Java 17
- **Database**: PostgreSQL 16
- **ORM**: MyBatis 3.0.5
- **Authentication**: Spring Security + OAuth2
- **API Documentation**: Springdoc OpenAPI (Swagger) 2.3.0

### AI/ML
- **Model Server**: FastAPI
- **AI API**: Azure OpenAI
- **Workflow**: n8n

### Infrastructure
- **Cloud**: Azure
- **Build Tool**: Gradle

### Frontend (ë³„ë„ ë ˆí¬ì§€í† ë¦¬)
- **Framework**: React + Vite

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ì›¹/ì•± (React)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         n8n ì›Œí¬í”Œë¡œìš° ì—”ì§„                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â–¼         â–¼          â–¼                 â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚RAG(ë²¡í„°)â”‚ â”‚AI Agentâ”‚ â”‚ê°ì • ë¶„ì„  â”‚  â”‚ì§ˆë¬¸ ìƒì„± â”‚
  â”‚   DB    â”‚ â”‚        â”‚ â”‚  ëª¨ë¸    â”‚  â”‚  ëª¨ë¸    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                       â”‚
       â–¼                       â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    Spring Boot Backend          â”‚
  â”‚    - REST API                   â”‚
  â”‚    - OAuth2 ì¸ì¦                â”‚
  â”‚    - ë°ì´í„° ê´€ë¦¬                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ PostgreSQL  â”‚
      â”‚   Database  â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬

#### ê´€ë¦¬ì (Admin)
- âœ… ì¼ë°˜ ë¡œê·¸ì¸ (ID/PW)
- âœ… íšŒì›ê°€ì… (ê·¸ë£¹ ì†Œì†)
- âœ… ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- âœ… ìµœì´ˆ ë¡œê·¸ì¸ ê°ì§€

#### ì‚¬ìš©ì (User)
- âœ… ì¼ë°˜ íšŒì›ê°€ì… (LOCAL)
- âœ… ì†Œì…œ ë¡œê·¸ì¸ (Google OAuth2)
- âœ… ë¡œê·¸ì¸
- âœ… ì •ë³´ ìˆ˜ì • (ë‹‰ë„¤ì„, ì „í™”ë²ˆí˜¸, ë°°ê²½í…Œë§ˆ ë“±)
- âœ… ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- âœ… íšŒì› íƒˆí‡´

### 2. ë°ì´í„° ê´€ë¦¬

- ğŸ“Š **14ê°œ í…Œì´ë¸”** ì„¤ê³„ ì™„ë£Œ
  - ì¡°ì§/ê·¸ë£¹ ê´€ë¦¬
  - ì‚¬ìš©ì/ê´€ë¦¬ì ê´€ë¦¬
  - ì¼ë°˜ ì±„íŒ… / ì´ìŒ(AI) ì±„íŒ…
  - ê°ì • ë¶„ì„ ê²°ê³¼
  - ì‚¬ìš©ì ì¼ì¼ ìƒíƒœ
  - ìœ„í—˜êµ° ëª¨ë‹ˆí„°ë§

### 3. API ë¬¸ì„œí™”

- ğŸ“ **Swagger UI** í†µí•©
- ğŸ§ª ëª¨ë“  API í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
- ğŸ“– ìë™ ë¬¸ì„œ ìƒì„±

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Java 17 ì´ìƒ
- PostgreSQL 16
- Gradle 8.x
- IntelliJ IDEA (ê¶Œì¥)

### ì„¤ì¹˜ ë° ì‹¤í–‰

1. **ë ˆí¬ì§€í† ë¦¬ í´ë¡ **
```bash
git clone https://github.com/yourusername/eum-backend.git
cd eum-backend
```

2. **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •**
```bash
# PostgreSQL ì ‘ì†
psql -U postgres

# ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE eum_db;
```

3. **DDL ì‹¤í–‰**
```bash
# src/main/resources/ddl/schema.sql ì‹¤í–‰
psql -U postgres -d eum_db -f src/main/resources/ddl/schema.sql
```

4. **application.properties ì„¤ì •**
```properties
# src/main/resources/application.properties

# PostgreSQL ì„¤ì •
spring.datasource.url=jdbc:postgresql://localhost:5432/eum_db
spring.datasource.username=postgres
spring.datasource.password=your_password

# Google OAuth2 ì„¤ì •
spring.security.oauth2.client.registration.google.client-id=YOUR_CLIENT_ID
spring.security.oauth2.client.registration.google.client-secret=YOUR_CLIENT_SECRET
```

5. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**
```bash
./gradlew bootRun
```

6. **Swagger ì ‘ì†**
```
http://localhost:8080/swagger-ui.html
```

---

## ğŸ“– API ë¬¸ì„œ

### Base URL
```
http://localhost:8080
```

### ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

#### ê´€ë¦¬ì API

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/admin/register` | ê´€ë¦¬ì íšŒì›ê°€ì… |
| POST | `/api/admin/login` | ê´€ë¦¬ì ë¡œê·¸ì¸ |
| POST | `/api/admin/change-password` | ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ |

#### ì‚¬ìš©ì API

| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/user/register` | íšŒì›ê°€ì… / ì¶”ê°€ì •ë³´ì…ë ¥ |
| POST | `/api/user/login` | ë¡œê·¸ì¸ |
| PATCH | `/api/user/update` | ì •ë³´ ìˆ˜ì • |
| POST | `/api/user/change-password` | ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ |
| POST | `/api/user/withdraw` | íšŒì› íƒˆí‡´ |

#### OAuth2

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/oauth2/authorization/google` | êµ¬ê¸€ ë¡œê·¸ì¸ ì‹œì‘ |

### ìƒì„¸ API ë¬¸ì„œ

Swagger UIì—ì„œ í™•ì¸: http://localhost:8080/swagger-ui.html

---

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”
```
pj_group              - ì¡°ì§/ê·¸ë£¹
pj_admin              - ê´€ë¦¬ì ê³„ì •
pj_admin_auth         - ê´€ë¦¬ì ê¶Œí•œ
pj_user               - ì‚¬ìš©ì ê³„ì •
pj_user_option        - ì‚¬ìš©ì ì„¤ì •
pj_user_chat_list     - ì¼ë°˜ ì±„íŒ…ë°©
pj_user_chat_content  - ì¼ë°˜ ì±„íŒ… ë‚´ìš©
pj_eum_chat_list      - ì´ìŒ(AI) ì±„íŒ…ë°©
pj_eum_chat_content   - ì´ìŒ(AI) ì±„íŒ… ë‚´ìš©
pj_user_emotion       - ê°ì • ë¶„ì„ ê²°ê³¼
pj_user_life_data     - ì‚¬ìš©ì ì¼ì¼ ìƒíƒœ
pj_user_activity      - ì‚¬ìš©ì í™œë™ ë¡œê·¸
pj_risk_monitoring    - ìœ„í—˜êµ° ëª¨ë‹ˆí„°ë§
pj_user_chat_macro    - ì±„íŒ… ë§¤í¬ë¡œ
```

### ERD
```
pj_group
    â†“
pj_admin â”€â”€â†’ pj_admin_auth
    â†“
pj_user â”€â”€â†’ pj_user_option
    â†“       â†“
    â”œâ”€â”€â”€â†’ pj_user_chat_list â”€â”€â†’ pj_user_chat_content
    â”œâ”€â”€â”€â†’ pj_eum_chat_list â”€â”€â†’ pj_eum_chat_content
    â”œâ”€â”€â”€â†’ pj_user_emotion
    â”œâ”€â”€â”€â†’ pj_user_life_data
    â”œâ”€â”€â”€â†’ pj_user_activity
    â””â”€â”€â”€â†’ pj_risk_monitoring
```

---

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### IntelliJ IDEA ì„¤ì •

1. **Lombok í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜**
   - Settings > Plugins > Lombok ê²€ìƒ‰ ë° ì„¤ì¹˜

2. **Annotation Processing í™œì„±í™”**
   - Settings > Build, Execution, Deployment > Compiler > Annotation Processors
   - âœ… Enable annotation processing

3. **ì½”ë“œ ìŠ¤íƒ€ì¼**
   - Settings > Editor > Code Style > Java
   - Indentation: 4 spaces

### Google OAuth2 ì„¤ì •

1. [Google Cloud Console](https://console.cloud.google.com/) ì ‘ì†
2. í”„ë¡œì íŠ¸ ìƒì„±
3. OAuth 2.0 í´ë¼ì´ì–¸íŠ¸ ID ìƒì„±
4. ìŠ¹ì¸ëœ ë¦¬ë””ë ‰ì…˜ URI ì¶”ê°€:
```
   http://localhost:8080/login/oauth2/code/google
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/com/eum/pj_eum/
â”‚   â”‚   â”œâ”€â”€ config/              # ì„¤ì • í´ë˜ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ securityConfig.java
â”‚   â”‚   â”‚   â”œâ”€â”€ swaggerConfig.java
â”‚   â”‚   â”‚   â”œâ”€â”€ corsConfig.java
â”‚   â”‚   â”‚   â””â”€â”€ oAuth2SuccessHandler.java
â”‚   â”‚   â”œâ”€â”€ controller/          # REST API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â”‚   â”œâ”€â”€ adminController.java
â”‚   â”‚   â”‚   â””â”€â”€ userController.java
â”‚   â”‚   â”œâ”€â”€ service/             # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ adminService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ userService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ customOAuth2UserService.java
â”‚   â”‚   â”‚   â””â”€â”€ impl/
â”‚   â”‚   â”‚       â”œâ”€â”€ adminServiceImpl.java
â”‚   â”‚   â”‚       â””â”€â”€ userServiceImpl.java
â”‚   â”‚   â”œâ”€â”€ mapper/              # MyBatis ë§¤í¼
â”‚   â”‚   â”‚   â”œâ”€â”€ adminMapper.java
â”‚   â”‚   â”‚   â””â”€â”€ userMapper.java
â”‚   â”‚   â”œâ”€â”€ dto/                 # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”‚   â”‚   â”œâ”€â”€ adminVO.java
â”‚   â”‚   â”‚   â”œâ”€â”€ userVo.java
â”‚   â”‚   â”‚   â”œâ”€â”€ loginRequest.java
â”‚   â”‚   â”‚   â”œâ”€â”€ loginResponse.java
â”‚   â”‚   â”‚   â”œâ”€â”€ userRegisterRequest.java
â”‚   â”‚   â”‚   â”œâ”€â”€ adminRegisterRequest.java
â”‚   â”‚   â”‚   â”œâ”€â”€ passwordChangeRequest.java
â”‚   â”‚   â”‚   â”œâ”€â”€ userWithdrawRequest.java
â”‚   â”‚   â”‚   â””â”€â”€ oAuth2UserInfo.java
â”‚   â”‚   â””â”€â”€ PjEumApplication.java
â”‚   â””â”€â”€ resources/
â”‚       â”œâ”€â”€ mapper/              # MyBatis XML
â”‚       â”‚   â”œâ”€â”€ adminMapper.xml
â”‚       â”‚   â””â”€â”€ userMapper.xml
â”‚       â”œâ”€â”€ ddl/                 # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚       â”‚   â””â”€â”€ schema.sql
â”‚       â”œâ”€â”€ static/
â”‚       â”œâ”€â”€ templates/
â”‚       â””â”€â”€ application.properties
â””â”€â”€ test/
    â””â”€â”€ java/com/eum/pj_eum/
```

---

## ğŸ“œ ì»¨ë²¤ì…˜

### ì½”ë“œ ìŠ¤íƒ€ì¼

- **íŒŒì¼ëª…**: camelCase (ì†Œë¬¸ì ì‹œì‘)
  - âœ… `adminController.java`
  - âœ… `userService.java`

- **í´ë˜ìŠ¤ëª…**: PascalCase
  - âœ… `adminVO`
  - âœ… `userRegisterRequest`

- **ë©”ì„œë“œëª…**: camelCase
  - âœ… `findByEmail()`
  - âœ… `updateUserInfo()`

### Git Commit ë©”ì‹œì§€
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
style: ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½ ë“±
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì½”ë“œ
chore: ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •
```

### API Response í˜•ì‹
```json
{
  "userId": "USER-xxxxx",
  "email": "user@example.com",
  "name": "í™ê¸¸ë™",
  "token": "jwt_token_here"
}
```


---

**Made with â¤ï¸ by ì´ìŒ ê°œë°œíŒ€**
